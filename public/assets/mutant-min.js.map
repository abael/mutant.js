{"version":3,"file":"mutant-min.js","sources":["../../lib/mutant.js"],"names":["global","throttle","fn","threshhold","scope","last","deferTimer","now","Date","clearTimeout","setTimeout","apply","bind","args","Array","prototype","slice","call","arguments","defaults","target","defaultValues","key","hasOwnProperty","LegacyMutations","callback","this","_callback","_onModifications","EventHandler","element","context","addEventListener","isWatchCandidate","node","r","nodeType","tagName","complete","getAttribute","datasetGet","attribute","dataset","datasetSet","value","setAttribute","datasetRemove","removeAttribute","attrName","whichTransitionEvent","el","document","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","t","undefined","style","Mutant","options","doSafeCallback","self","takeRecords","_eventHandlers","throttleTimeout","timeout","_transitionInterval","wrappedCallback","_findLoadingImages","_mutationCallback","observer","MutationObserver","observerOptions","observers","attributes","childList","characterData","subtree","attributeOldValue","characterDataOldValue","observe","_transitionEndHandler","handleEvent","e","endTransition","transitionEventName","_target","disconnect","removeEventListener","_detach","MozMutationObserver","WebKitMutationObserver","idCounter","_addListener","id","eventHandler","_removeListener","handler","mutationRecords","s","forEach","type","addedNodes","i","length","children","removedNodes","j","imgs","querySelectorAll","img","startTransition","maxTimeMs","_transitions","push","_transitionTimer","setInterval","splice","eh","Object","keys","define","amd","window"],"mappings":"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"}